(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52809ff1"],{"64a5":function(e,s,t){},7101:function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("el-card",{attrs:{shadow:"always"}},[t("el-form",{ref:"loginForm",staticClass:"demo-ruleForm",attrs:{model:e.loginForm,rules:e.loginFormRules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{model:{value:e.loginForm.username,callback:function(s){e.$set(e.loginForm,"username",s)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password"},model:{value:e.loginForm.password,callback:function(s){e.$set(e.loginForm,"password",s)},expression:"loginForm.password"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"success"},on:{click:function(s){return e.submitForm("loginForm")}}},[e._v("登录")]),t("el-button",{attrs:{type:"primary"},on:{click:function(s){return e.registered("loginForm")}}},[e._v("注册")]),t("el-button",{on:{click:function(s){return e.resetForm("loginForm")}}},[e._v("重置")])],1)],1)],1),t("el-dialog",{attrs:{title:"请验证",visible:e.dialogVisible,width:"320"},on:{"update:visible":function(s){e.dialogVisible=s}}},[t("div",{staticClass:"slideV"},[t("slide-verify",{ref:"slideblock",attrs:{l:45,r:10,w:310,h:155,"slider-text":"滑动滑块"},on:{success:e.onSuccess,fail:e.onFail}})],1)])],1)},i=[],o={data(){return{dialogVisible:!1,loginForm:{username:"",password:""},loginFormRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{submitForm(e){this.$refs[e].validate(async e=>{e?this.dialogVisible=!0:this.$message.error("请填写正确的用户名和密码")})},resetForm(e){this.$refs[e].resetFields()},registered(){this.$router.push({path:"/registered"})},async onSuccess(){this.dialogVisible=!1;const e=await this.$http.post("login",this.loginForm);if(200==e.status)if("ok"==e.data){this.$message({message:"登录成功",type:"success"});let e=this.loginForm.username;sessionStorage.setItem("username",e),this.$router.push({path:"/home"})}else this.$message({message:"登录失败（"+e.data+")",type:"warn"}),this.$refs.slideblock.reset();else this.$refs.slideblock.reset()},onFail(){this.alertMsg("验证失败","error")}}},l=o,a=(t("eeb1"),t("2877")),n=Object(a["a"])(l,r,i,!1,null,null,null);s["default"]=n.exports},eeb1:function(e,s,t){"use strict";t("64a5")}}]);
//# sourceMappingURL=chunk-52809ff1.0d01117a.js.map