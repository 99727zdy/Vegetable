(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e28a12e6"],{"1dac":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{height:"570px"}},[t._m(0),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.sensorData,height:"500"}},[s("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[s("el-form-item",{staticClass:"itemS",attrs:{label:"传感器id:"}},[s("span",[t._v(t._s(e.row.sensor_id))])]),s("el-form-item",{staticClass:"itemS",attrs:{label:"传感器名称:"}},[s("span",[t._v(t._s(e.row.name))])]),s("el-form-item",{staticClass:"itemS",attrs:{label:"传感器状态:"}},[s("span",[t._v(t._s(e.row.status))])]),s("el-form-item",{staticClass:"itemS",attrs:{label:"传感器电量:"}},[s("span",[t._v(t._s(e.row.power))])]),s("el-form-item",{staticClass:"itemS",attrs:{label:"放置地点:"}},[s("span",[t._v(t._s(e.row.place))])]),s("el-form-item",{staticClass:"itemS",attrs:{label:"温度:"}},[s("span",[t._v(t._s(e.row.temperature)+" °c")])]),s("el-form-item",{staticClass:"itemS",attrs:{label:"湿度:"}},[s("span",[t._v(t._s(e.row.humidity))])]),s("el-form-item",{staticClass:"itemS",attrs:{label:"光照:"}},[s("span",[t._v(t._s(e.row.light))])]),s("el-form-item",{staticClass:"itemS",attrs:{label:"风速:"}},[s("span",[t._v(t._s(e.row.wind))])]),s("el-form-item",{staticClass:"itemS",attrs:{label:"PH值:"}},[s("span",[t._v(t._s(e.row.ph))])])],1)]}}])}),s("el-table-column",{attrs:{label:"传感器id",prop:"sensor_id"}}),s("el-table-column",{attrs:{label:"传感器名称",prop:"name"}}),s("el-table-column",{attrs:{label:"放置地点",prop:"place"}}),s("el-table-column",{attrs:{label:"传感器状态",prop:"status"}}),s("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"primary"},on:{click:function(s){return t.editSensor(e.row)}}},[t._v("编辑")]),s("el-button",{attrs:{type:"danger"},on:{click:function(s){return t.deleteSensor(e.row)}}},[t._v("删除")])]}}])})],1),s("el-dialog",{attrs:{title:"编辑传感器",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[s("el-form",{attrs:{model:t.editForm}},[s("el-form-item",{attrs:{label:"传感器id","label-width":t.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:t.editForm.sensor_id,callback:function(e){t.$set(t.editForm,"sensor_id",e)},expression:"editForm.sensor_id"}})],1),s("el-form-item",{attrs:{label:"传感器名称","label-width":t.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),s("el-form-item",{attrs:{label:"放置地点","label-width":t.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:t.editForm.place,callback:function(e){t.$set(t.editForm,"place",e)},expression:"editForm.place"}})],1),s("el-form-item",{attrs:{label:"传感器状态","label-width":t.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:t.editForm.status,callback:function(e){t.$set(t.editForm,"status",e)},expression:"editForm.status"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:t.complete}},[t._v("完成")])],1)],1)],1)},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"head"},[s("h1",[t._v("全部传感器（显示全部传感器）")])])}],o={data(){return{sensorData:[],dialogTableVisible:!1,dialogFormVisible:!1,editForm:{sensor_id:"",name:"",status:"",place:""},formLabelWidth:"120px"}},methods:{async getSensor(){const t=await this.$http.get("sensor/find");200==t.status&&(this.sensorData=t.data)},editSensor(t){this.dialogFormVisible=!0,this.editForm.sensor_id=t.sensor_id,this.editForm.name=t.name,this.editForm.status=t.status,this.editForm.place=t.place},async deleteSensor(t){console.log(t.sensor_id);const e=await this.$http.get("sensor/delete?sensor_id="+t.sensor_id);200==e.status&&(this.getSensor(),this.$message({message:"删除成功",type:"success"})),console.log(this.sensorData)},async complete(){const t=await this.$http.post("sensor/edit",this.editForm);200==t.status&&(this.getSensor(),this.dialogFormVisible=!1,this.$message({message:"编辑成功",type:"success"}))}},mounted(){this.getSensor()}},i=o,r=(s("3494"),s("2877")),n=Object(r["a"])(i,a,l,!1,null,null,null);e["default"]=n.exports},3494:function(t,e,s){"use strict";s("b007")},b007:function(t,e,s){}}]);
//# sourceMappingURL=chunk-e28a12e6.17d9e394.js.map